(()=>{"use strict";var e,t={3752:()=>{const e=window.wp.blocks,t=JSON.parse('{"UU":"gatherpress/dropdown","DD":"Dropdown","L1":"gatherpress","Kk":"menu","uK":{"actAsSelect":{"type":"boolean","default":false},"alignment":{"type":"string","default":"left","enum":["left","center","right","justify","stretch"]},"dropdownBorderColor":{"type":"string","default":"#000000"},"dropdownBorderRadius":{"type":"number","default":8},"dropdownBorderThickness":{"type":"number","default":1},"dropdownId":{"type":"string","default":""},"dropdownWidth":{"type":"string","default":240},"dropdownZIndex":{"type":"number","default":10},"itemBgColor":{"type":"string","default":"#FFFFFF"},"itemDividerColor":{"type":"string","default":"#000000"},"itemDividerThickness":{"type":"number","default":1},"itemHoverBgColor":{"type":"string","default":"#EEEEEE"},"itemHoverTextColor":{"type":"string","default":"#000000"},"itemPadding":{"type":"object","default":{"top":8,"right":8,"bottom":8,"left":8}},"itemTextColor":{"type":"string","default":"#000000"},"label":{"type":"string","default":"Dropdown"},"labelTextColor":{"type":"string","default":"#000000"},"openOn":{"type":"string","default":"click","enum":["click","hover"]},"selectedIndex":{"type":"number","default":0}}}'),r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const n=new Uint8Array(16),l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));const s=function(e,t,s){if(r.randomUUID&&!t&&!e)return r.randomUUID();const a=(e=e||{}).random??e.rng?.()??function(){if(!o){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");o=crypto.getRandomValues.bind(crypto)}return o(n)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((s=s||0)<0||s+16>t.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[s+e]=a[e];return t}return function(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}(a)},a=window.wp.blockEditor,d=window.wp.components,i=window.wp.i18n,p=window.wp.element,c=window.wp.data,g=window.ReactJSXRuntime;(0,e.registerBlockType)(t.UU,{title:t.DD,category:t.L1,icon:t.Kk,attributes:t.uK,edit:({attributes:e,setAttributes:t,clientId:r})=>{const o=(0,a.useBlockProps)(),[n,l]=(0,p.useState)(!1),{actAsSelect:h,dropdownBorderColor:u,dropdownBorderRadius:m,dropdownBorderThickness:b,dropdownId:w,dropdownWidth:x,dropdownZIndex:_,itemBgColor:C,itemDividerColor:f,itemDividerThickness:v,itemHoverBgColor:k,itemHoverTextColor:y,itemPadding:I,itemTextColor:j,label:B,labelTextColor:D,openOn:T,selectedIndex:S}=e,O=(0,c.useSelect)((e=>e("core/block-editor").getBlock(r)?.innerBlocks||[]),[r]);(0,p.useEffect)((()=>{if(!w){const e=`dropdown-${s()}`;t({dropdownId:e})}}),[w,t]),(0,p.useEffect)((()=>{const e=B||(0,i.__)("Dropdown","gatherpress"),t=(0,c.select)("core/block-editor").getBlockAttributes(r).metadata||{};t.name!==e&&(0,c.dispatch)("core/block-editor").updateBlockAttributes(r,{metadata:{...t,name:e}})}),[B,r]),(0,p.useEffect)((()=>{if(h&&Array.isArray(O)&&0<=S&&S<O.length){const e=O[S],r=e?.attributes?.text||"",o=(new DOMParser).parseFromString(r,"text/html").body.textContent.trim();o!==B&&t({label:o})}}),[h,S,r,O,B,t]),(0,p.useEffect)((()=>{if(h){const e=O[S]?.attributes?.text||"",r=(new DOMParser).parseFromString(e,"text/html").body.textContent.trim();t({label:r||(0,i.__)("Item","gatherpress")+` ${S+1}`})}}),[O,h,S,t]);const $=`\n\t\t#${w} .wp-block-gatherpress-dropdown-item {\n\t\t\tpadding: ${parseInt(I?.top||0,10)}px\n\t\t\t\t${parseInt(I?.right||0,10)}px\n\t\t\t\t${parseInt(I?.bottom||0,10)}px\n\t\t\t\t${parseInt(I?.left||0,10)}px;\n\t\t\tcolor: ${j||"inherit"};\n\t\t\tbackground-color: ${C||"transparent"};\n\t\t}\n\n\t\t#${w} .wp-block-gatherpress-dropdown-item:hover {\n\t\t\tcolor: ${y||"inherit"};\n\t\t\tbackground-color: ${k||"transparent"};\n\t\t}\n\n\t\t#${w} .wp-block-gatherpress-dropdown-item:not(:first-child) {\n\t\t\tborder-top: ${v||1}px solid ${f||"transparent"};\n\t\t}\n\t`;return(0,g.jsxs)("div",{...o,children:[(0,g.jsxs)(a.InspectorControls,{children:[(0,g.jsxs)(d.PanelBody,{title:(0,i.__)("Dropdown Settings","gatherpress"),initialOpen:!0,children:[(0,g.jsx)(d.RangeControl,{label:(0,i.__)("Dropdown Z-Index","gatherpress"),value:_,onChange:e=>t({dropdownZIndex:e}),min:0,max:9999}),(0,g.jsx)(d.RangeControl,{label:(0,i.__)("Dropdown Width","gatherpress"),value:parseInt(x,10),onChange:e=>t({dropdownWidth:e}),min:100,max:300}),(0,g.jsx)(d.RangeControl,{label:(0,i.__)("Dropdown Border Thickness","gatherpress"),value:b||1,onChange:e=>t({dropdownBorderThickness:e}),min:0,max:20}),(0,g.jsx)(d.RangeControl,{label:(0,i.__)("Dropdown Border Radius","gatherpress"),value:m,onChange:e=>t({dropdownBorderRadius:e}),min:0,max:50}),(0,g.jsx)(d.__experimentalBoxControl,{label:(0,i.__)("Item Padding","gatherpress"),values:I||8,onChange:e=>t({itemPadding:e})}),(0,g.jsx)(d.RangeControl,{label:(0,i.__)("Item Divider Thickness","gatherpress"),value:v||1,onChange:e=>t({itemDividerThickness:e}),min:0,max:10})]}),(0,g.jsx)(a.PanelColorSettings,{title:(0,i.__)("Label Colors","gatherpress"),colorSettings:[{value:D,onChange:e=>t({labelTextColor:e}),label:(0,i.__)("Label Text Color","gatherpress")}]}),(0,g.jsx)(a.PanelColorSettings,{title:(0,i.__)("Dropdown Colors","gatherpress"),colorSettings:[{value:u,onChange:e=>t({dropdownBorderColor:e}),label:(0,i.__)("Dropdown Border Color","gatherpress")}]}),(0,g.jsx)(a.PanelColorSettings,{title:(0,i.__)("Item Colors","gatherpress"),colorSettings:[{value:j,onChange:e=>t({itemTextColor:e}),label:(0,i.__)("Item Text Color","gatherpress")},{value:C,onChange:e=>t({itemBgColor:e}),label:(0,i.__)("Item Background Color","gatherpress")},{value:y,onChange:e=>t({itemHoverTextColor:e}),label:(0,i.__)("Item Hover Text Color","gatherpress")},{value:k,onChange:e=>t({itemHoverBgColor:e}),label:(0,i.__)("Item Hover Background Color","gatherpress")},{value:f,onChange:e=>t({itemDividerColor:e}),label:(0,i.__)("Item Divider Color","gatherpress")}]})]}),(0,g.jsxs)(a.InspectorAdvancedControls,{children:[(0,g.jsxs)(d.__experimentalToggleGroupControl,{label:(0,i.__)("Open on","gatherpress"),value:T,isBlock:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,onChange:e=>t({openOn:e}),children:[(0,g.jsx)(d.__experimentalToggleGroupControlOption,{value:"click",label:(0,i.__)("Click","gatherpress")}),(0,g.jsx)(d.__experimentalToggleGroupControlOption,{value:"hover",label:(0,i.__)("Hover","gatherpress")})]}),0<O.length&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.ToggleControl,{label:(0,i.__)("Enable Select Mode","gatherpress"),help:(0,i.__)("When enabled, clicking on an item will set it as the dropdown label, and the selected item will be disabled until another is chosen.","gatherpress"),checked:h,onChange:e=>t({actAsSelect:e})}),h&&(0,g.jsx)(d.SelectControl,{label:(0,i.__)("Default Selected Item","gatherpress"),help:(0,i.__)("This item will be selected by default when the dropdown is displayed.","gatherpress"),value:S,options:O.map(((e,t)=>{const r=(new DOMParser).parseFromString(e.attributes.text||"","text/html").body.textContent.trim(),o=(0,i.__)("Item %d","gatherpress");
/* translators: %d is the index of the item. */return{label:r||(0,i.sprintf)(o,t+1),value:t}})),onChange:e=>t({selectedIndex:parseInt(e,10)})})]})]}),(0,g.jsx)(a.BlockControls,{children:(0,g.jsx)(d.ToolbarGroup,{children:(0,g.jsx)(d.ToolbarButton,{icon:n?"no-alt":"plus",onClick:()=>{l((e=>!e))},label:n?(0,i.__)("Close Dropdown","gatherpress"):(0,i.__)("Open Dropdown","gatherpress")})})}),h?(0,g.jsx)("a",{href:"#",role:"button","aria-expanded":n,"aria-controls":w,tabIndex:0,className:"wp-block-gatherpress-dropdown__trigger",style:{color:D},children:B}):(0,g.jsx)(a.RichText,{tagName:"a",href:"#",role:"button","aria-expanded":n,"aria-controls":w,tabIndex:0,className:"wp-block-gatherpress-dropdown__trigger",value:B,onChange:e=>{t({label:e})},allowedFormats:[],placeholder:(0,i.__)("Dropdown Labelâ€¦","gatherpress"),style:{color:D}}),(0,g.jsx)("style",{children:$}),(0,g.jsx)("div",{id:w,role:"region",className:"wp-block-gatherpress-dropdown__menu",style:{display:n?"block":"none",backgroundColor:C,border:`${b||1}px solid ${u||"#000000"}`,borderRadius:`${m||0}px`,zIndex:_,width:x},children:(0,g.jsx)(a.InnerBlocks,{allowedBlocks:["gatherpress/dropdown-item"]})})]})},save:({attributes:e})=>{const t=a.useBlockProps.save(),{label:r}=e;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{...t,children:[(0,g.jsx)("a",{href:"#",className:"wp-block-gatherpress-dropdown__trigger",children:r}),(0,g.jsx)("div",{className:"wp-block-gatherpress-dropdown__menu",children:(0,g.jsx)(a.InnerBlocks.Content,{})})]})})}})}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var l=r[e]={exports:{}};return t[e](l,l.exports,o),l.exports}o.m=t,e=[],o.O=(t,r,n,l)=>{if(!r){var s=1/0;for(p=0;p<e.length;p++){for(var[r,n,l]=e[p],a=!0,d=0;d<r.length;d++)(!1&l||s>=l)&&Object.keys(o.O).every((e=>o.O[e](r[d])))?r.splice(d--,1):(a=!1,l<s&&(s=l));if(a){e.splice(p--,1);var i=n();void 0!==i&&(t=i)}}return t}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[r,n,l]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={8858:0,7822:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,l,[s,a,d]=r,i=0;if(s.some((t=>0!==e[t]))){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(d)var p=d(o)}for(t&&t(r);i<s.length;i++)l=s[i],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(p)},r=globalThis.webpackChunkgatherpress=globalThis.webpackChunkgatherpress||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=o.O(void 0,[7822],(()=>o(3752)));n=o.O(n)})();