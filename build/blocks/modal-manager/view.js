import*as e from"@wordpress/interactivity";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const n=(o={store:()=>e.store},r={},t.d(r,o),r);var o,r;const{actions:s}=(0,n.store)("gatherpress",{actions:{openModal(e=null,n=null){e&&e.preventDefault();const o=(n=null!=n?n:e.target).closest(".wp-block-gatherpress-modal-manager");if(o){const e=o.querySelector(".wp-block-gatherpress-modal");if(e){e.classList.add("gatherpress--is-visible");const n=e.querySelector(".wp-block-gatherpress-modal-content");if(n){const o=["a[href]","button:not([disabled])","textarea:not([disabled])",'input[type="text"]:not([disabled])','input[type="number"]:not([disabled])','input[type="radio"]:not([disabled])','input[type="checkbox"]:not([disabled])',"select:not([disabled])",'[tabindex]:not([tabindex="-1"])'],r=Array.from(n.querySelectorAll(o.join(",")));r[0]&&setTimeout((()=>{e.setAttribute("aria-hidden","false"),r[0].focus()}),1),n.cleanupFocusTrap=function(e){if(!e||0===e.length)return()=>{};const n=e.filter((e=>null!==e.offsetParent&&"hidden"!==t.g.window.getComputedStyle(e).visibility&&"0"!==t.g.window.getComputedStyle(e).opacity));if(0===n.length)return()=>{};const o=n[0],r=n[n.length-1],s=e=>{"Tab"===e.key&&(e.shiftKey&&t.g.document.activeElement===o?(e.preventDefault(),r.focus()):e.shiftKey||t.g.document.activeElement!==r||(e.preventDefault(),o.focus()))},a=e=>{"Escape"===e.key&&l()},l=()=>{t.g.document.removeEventListener("keydown",s),t.g.document.removeEventListener("keydown",a)};return t.g.document.addEventListener("keydown",s),t.g.document.addEventListener("keydown",a),l}(r),n.cleanupCloseHandlers=function(e,n,o){const r=e=>{e.classList.remove("gatherpress--is-visible"),o()},s=n=>{"Escape"===n.key&&t.g.document.querySelectorAll(`${e}.gatherpress--is-visible`).forEach((e=>r(e)))},a=o=>{t.g.document.querySelectorAll(`${e}.gatherpress--is-visible`).forEach((e=>{if(n){const t=e.querySelector(n);e.contains(o.target)&&!t.contains(o.target)&&r(e)}else e.parentElement.contains(o.target)||r(e)}))};return t.g.document.addEventListener("keydown",s),t.g.document.addEventListener("click",a),()=>{t.g.document.removeEventListener("keydown",s),t.g.document.removeEventListener("click",a)}}(".wp-block-gatherpress-modal",".wp-block-gatherpress-modal-content",(()=>{e.classList.remove("gatherpress--is-visible"),e.setAttribute("aria-hidden","true"),n&&"function"==typeof n.cleanupFocusTrap&&n.cleanupFocusTrap()}))}const o=e.querySelector(".gatherpress--close-modal");o&&o.addEventListener("click",(()=>{e.classList.remove("gatherpress--is-visible"),e.setAttribute("aria-hidden","true"),n&&"function"==typeof n.cleanupFocusTrap&&n.cleanupFocusTrap(),n&&"function"==typeof n.cleanupCloseHandlers&&n.cleanupCloseHandlers()}))}}},openModalOnEnter(e){"Enter"===e.key&&s.openModal(e)},closeModal(e=null,t=null){e&&e.preventDefault();const n=(t=null!=t?t:e.target).closest(".wp-block-gatherpress-modal-manager");if(n){const e=n.querySelector(".wp-block-gatherpress-modal");e&&(e.classList.remove("gatherpress--is-visible"),e.setAttribute("aria-hidden","true"))}},closeModalOnEnter(e){"Enter"===e.key&&s.closeModal(e)}}});